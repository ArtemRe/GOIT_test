{"mappings":"uDAAAA,EAAiBC,KAAKC,MAAM,2SCE5B,MAAMC,EAAO,CACXC,UAAWC,SAASC,cAAc,eAClCC,cAAeF,SAASC,cAAc,cAGxC,IAAIE,EAAY,GACZC,EAAO,GAKX,SAASC,EAAeC,GACtB,OAAOH,EAAUI,SAASD,GAAM,YAAc,SAGhD,MAAME,EAAa,KACjB,MAAMC,EAAiBb,KAAKC,MAAMa,aAAaC,QAAQ,cACjDC,EAAahB,KAAKC,MAAMa,aAAaC,QAAQ,UAEnDR,EAAYM,GAAkC,GAC9CL,EAAOQ,GAA0BC,EAAAlB,GAEjCG,EAAKC,UAAUe,UAAYC,KAGvBA,EAAc,IACXX,EACJY,KACC,EAACV,GAAEA,EAAEW,OAAEA,EAAMC,UAAEA,EAASC,OAAEA,MACxB,kCAA4Bb,mIAGLa,8FAGMF,uDA5BbG,EA6B+BF,EA5B9CE,EAAEC,WAAWC,QAAO,wBAA0B,qFA6BSjB,EAClDC,cACWA,KAAMD,EAAeC,8BAhC9C,IAAwBc,KAmCnBG,KAAK,IAwBVvB,SAASwB,KAAKC,iBAAiB,SArBhBC,IACb,MAAMC,EAASD,EAAEC,OACjB,GAAIA,EAAOC,UAAUC,SAAS,YAAa,CACzC,MAAMvB,EAAKwB,OAAOH,EAAOI,QAAQzB,IAC3B0B,EAAOnB,EAAAlB,GAAMsC,MAAKC,GAAMA,EAAG5B,KAAOA,IAEpCH,EAAUI,SAASD,IACrB0B,EAAKd,WAAa,EAClBf,EAAUgC,OAAOhC,EAAUiC,QAAQ9B,GAAK,KAExC0B,EAAKd,WAAa,EAClBf,EAAUkC,KAAK/B,IAGjBI,aAAa4B,QAAQ,QAAS1C,KAAK2C,UAAU1B,EAAAlB,KAC7Ce,aAAa4B,QAAQ,YAAa1C,KAAK2C,UAAUpC,IAEjDK,QAMJA","sources":["src/data/users.json","src/index.js"],"sourcesContent":["[\n  {\n    \"id\": 1,\n    \"user\": \"Elon Reeve Musk\",\n    \"tweets\": 777,\n    \"followers\": 100500,\n    \"avatar\": \"../images/hansel.png\"\n  },\n\n  {\n    \"id\": 2,\n    \"user\": \"Elon Reeve Musk\",\n    \"tweets\": 777,\n    \"followers\": 100502,\n    \"avatar\": \"../images/hansel.png\"\n  },\n  {\n    \"id\": 3,\n    \"user\": \"Elon Reeve Musk\",\n    \"tweets\": 777,\n    \"followers\": 100503,\n    \"avatar\": \"../images/hansel.png\"\n  }\n\n]","import users from '../src/data/users.json';\n\nconst refs = {\n  cardsList: document.querySelector('.cards-list'),\n  cardBtnFollow: document.querySelector('.card-btn'),\n};\n\nlet following = [];\nlet user = [];\nfunction followerFormat(x) {\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\n\nfunction checkFollowing(id) {\n  return following.includes(id) ? 'following' : 'follow';\n}\n\nconst renderCard = () => {\n  const followingLocal = JSON.parse(localStorage.getItem('following'));\n  const usersLocal = JSON.parse(localStorage.getItem('users'));\n\n  following = followingLocal ? followingLocal : [];\n  user = usersLocal ? usersLocal : users;\n\n  refs.cardsList.innerHTML = criateCards();\n};\n\nconst criateCards = () => {\n  return user\n    .map(\n      ({ id, tweets, followers, avatar }) =>\n        `<li class=\"card\" data-id=${id} data-state=\"follow\">\n        <div class=\"card-avatar\">\n                <div class=\"card-img\">\n                    <img src=${avatar} alt=\"\"/>\n                </div>\n            </div>\n            <p class=\"card-tweets\">${tweets} tweets</p>\n            <p class=\"card-followers\">${followerFormat(followers)} followers</p>\n            <button type=\"button\" class=\"card-btn\" data-state=${checkFollowing(\n              id\n            )} data-id=${id}>${checkFollowing(id)}</button>\n         </li>`\n    )\n    .join('');\n};\n\nconst follow = e => {\n  const target = e.target;\n  if (target.classList.contains('card-btn')) {\n    const id = Number(target.dataset.id);\n    const user = users.find(el => el.id === id);\n\n    if (following.includes(id)) {\n      user.followers -= 1;\n      following.splice(following.indexOf(id), 1);\n    } else {\n      user.followers += 1;\n      following.push(id);\n    }\n\n    localStorage.setItem('users', JSON.stringify(users));\n    localStorage.setItem('following', JSON.stringify(following));\n\n    renderCard();\n  }\n};\n\ndocument.body.addEventListener('click', follow);\n\nrenderCard();\n"],"names":["$bd0abc9f243a714d$exports","JSON","parse","$1f0dc3b9307be026$var$refs","cardsList","document","querySelector","cardBtnFollow","$1f0dc3b9307be026$var$following","$1f0dc3b9307be026$var$user","$1f0dc3b9307be026$var$checkFollowing","id","includes","$1f0dc3b9307be026$var$renderCard","followingLocal","localStorage","getItem","usersLocal","$parcel$interopDefault","innerHTML","$1f0dc3b9307be026$var$criateCards","map","tweets","followers","avatar","x","toString","replace","join","body","addEventListener","e","target","classList","contains","Number","dataset","user1","find","el","splice","indexOf","push","setItem","stringify"],"version":3,"file":"index.a0edbc5d.js.map"}