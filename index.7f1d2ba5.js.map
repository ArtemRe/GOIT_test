{"mappings":"mEAAAA,EAAiBC,KAAKC,MAAM,2SCE5B,IAAMC,EAAO,CACXC,UAAWC,SAASC,cAAc,eAClCC,cAAeF,SAASC,cAAc,cAGpCE,EAAY,GACZC,EAAO,GAKX,SAASC,EAAeC,GACtB,OAAOH,EAAUI,SAASD,GAAM,YAAc,SAGhD,IAAME,EAAa,WACjB,IAAMC,EAAiBb,KAAKC,MAAMa,aAAaC,QAAQ,cACjDC,EAAahB,KAAKC,MAAMa,aAAaC,QAAQ,UAEnDR,EAAYM,GAAkC,GAC9CL,EAAOQ,GAA0BC,EAAAlB,GAEjCG,EAAKC,UAAUe,UAAYC,KAGvBA,EAAc,WAClB,OAAOX,EACJY,KACC,SAAAC,G,IArBkBC,EAqBfZ,EAAEW,EAAFX,GAAIa,EAAMF,EAANE,OAAQC,EAASH,EAATG,UAAWC,EAAMJ,EAANI,O,MACxB,4BAGuBC,OAHKhB,EAAG,mIAMFgB,OAHND,EAAO,8FAIEC,OADHH,EAAO,uDAEoBG,QA9BxCJ,EA6B+BE,EA5B9CF,EAAEK,WAAWC,QAAO,wBAA0B,MA4BW,kFAGzCF,OAFuCjB,EAClDC,GACA,aAAiBgB,OAANhB,EAAG,KAAsBgB,OAAnBjB,EAAeC,GAAI,gCAG7CmB,KAAK,KAwBVzB,SAAS0B,KAAKC,iBAAiB,SArBhB,SAAAC,GACb,IAAMC,EAASD,EAAEC,OACjB,GAAIA,EAAOC,UAAUC,SAAS,YAAa,CACzC,IAAMzB,EAAK0B,OAAOH,EAAOI,QAAQ3B,IAC3B4B,EAAOrB,EAAAlB,GAAMwC,MAAK,SAAAC,G,OAAMA,EAAG9B,KAAOA,KAEpCH,EAAUI,SAASD,IACrB4B,EAAKd,WAAa,EAClBjB,EAAUkC,OAAOlC,EAAUmC,QAAQhC,GAAK,KAExC4B,EAAKd,WAAa,EAClBjB,EAAUoC,KAAKjC,IAGjBI,aAAa8B,QAAQ,QAAS5C,KAAK6C,UAAU5B,EAAAlB,KAC7Ce,aAAa8B,QAAQ,YAAa5C,KAAK6C,UAAUtC,IAEjDK,QAMJA,I","sources":["src/data/users.json","src/index.js"],"sourcesContent":["[\n  {\n    \"id\": 1,\n    \"user\": \"Elon Reeve Musk\",\n    \"tweets\": 777,\n    \"followers\": 100500,\n    \"avatar\": \"../images/hansel.png\"\n  },\n\n  {\n    \"id\": 2,\n    \"user\": \"Elon Reeve Musk\",\n    \"tweets\": 777,\n    \"followers\": 100502,\n    \"avatar\": \"../images/hansel.png\"\n  },\n  {\n    \"id\": 3,\n    \"user\": \"Elon Reeve Musk\",\n    \"tweets\": 777,\n    \"followers\": 100503,\n    \"avatar\": \"../images/hansel.png\"\n  }\n\n]","import users from '../src/data/users.json';\n\nconst refs = {\n  cardsList: document.querySelector('.cards-list'),\n  cardBtnFollow: document.querySelector('.card-btn'),\n};\n\nlet following = [];\nlet user = [];\nfunction followerFormat(x) {\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\n\nfunction checkFollowing(id) {\n  return following.includes(id) ? 'following' : 'follow';\n}\n\nconst renderCard = () => {\n  const followingLocal = JSON.parse(localStorage.getItem('following'));\n  const usersLocal = JSON.parse(localStorage.getItem('users'));\n\n  following = followingLocal ? followingLocal : [];\n  user = usersLocal ? usersLocal : users;\n\n  refs.cardsList.innerHTML = criateCards();\n};\n\nconst criateCards = () => {\n  return user\n    .map(\n      ({ id, tweets, followers, avatar }) =>\n        `<li class=\"card\" data-id=${id} data-state=\"follow\">\n        <div class=\"card-avatar\">\n                <div class=\"card-img\">\n                    <img src=${avatar} alt=\"\"/>\n                </div>\n            </div>\n            <p class=\"card-tweets\">${tweets} tweets</p>\n            <p class=\"card-followers\">${followerFormat(followers)} followers</p>\n            <button type=\"button\" class=\"card-btn\" data-state=${checkFollowing(\n              id\n            )} data-id=${id}>${checkFollowing(id)}</button>\n         </li>`\n    )\n    .join('');\n};\n\nconst follow = e => {\n  const target = e.target;\n  if (target.classList.contains('card-btn')) {\n    const id = Number(target.dataset.id);\n    const user = users.find(el => el.id === id);\n\n    if (following.includes(id)) {\n      user.followers -= 1;\n      following.splice(following.indexOf(id), 1);\n    } else {\n      user.followers += 1;\n      following.push(id);\n    }\n\n    localStorage.setItem('users', JSON.stringify(users));\n    localStorage.setItem('following', JSON.stringify(following));\n\n    renderCard();\n  }\n};\n\ndocument.body.addEventListener('click', follow);\n\nrenderCard();\n"],"names":["$1e0bcd2e21e1ffd6$exports","JSON","parse","$b8f9b7833fa37166$var$refs","cardsList","document","querySelector","cardBtnFollow","$b8f9b7833fa37166$var$following","$b8f9b7833fa37166$var$user","$b8f9b7833fa37166$var$checkFollowing","id","includes","$b8f9b7833fa37166$var$renderCard","followingLocal","localStorage","getItem","usersLocal","$parcel$interopDefault","innerHTML","$b8f9b7833fa37166$var$criateCards","map","param","x","tweets","followers","avatar","concat","toString","replace","join","body","addEventListener","e","target","classList","contains","Number","dataset","user1","find","el","splice","indexOf","push","setItem","stringify"],"version":3,"file":"index.7f1d2ba5.js.map"}